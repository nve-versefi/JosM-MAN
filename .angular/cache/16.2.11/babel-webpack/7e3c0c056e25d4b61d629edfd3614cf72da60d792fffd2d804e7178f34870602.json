{"ast":null,"code":"import { FormGroup, Validators } from '@angular/forms'; // Actualiza esta importación\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction ContactoComponent_div_3_div_2_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Este campo es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactoComponent_div_3_div_2_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Ingrese una direcci\\u00F3n de correo electr\\u00F3nico v\\u00E1lida.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactoComponent_div_3_div_2_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r6 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_0_1;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"El campo debe tener al menos \", (tmp_0_0 = ctx_r6.formulario.get(field_r2.id)) == null ? null : (tmp_0_1 = tmp_0_0.getError(\"minlength\")) == null ? null : tmp_0_1.requiredLength, \" caracteres.\");\n  }\n}\nfunction ContactoComponent_div_3_div_2_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El formato es incorrecto.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactoComponent_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ContactoComponent_div_3_div_2_span_1_Template, 2, 0, \"span\", 4);\n    i0.ɵɵtemplate(2, ContactoComponent_div_3_div_2_span_2_Template, 2, 0, \"span\", 4);\n    i0.ɵɵtemplate(3, ContactoComponent_div_3_div_2_span_3_Template, 2, 1, \"span\", 4);\n    i0.ɵɵtemplate(4, ContactoComponent_div_3_div_2_span_4_Template, 2, 0, \"span\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r3.formulario.get(field_r2.id)) == null ? null : tmp_0_0.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r3.formulario.get(field_r2.id)) == null ? null : tmp_1_0.hasError(\"email\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r3.formulario.get(field_r2.id)) == null ? null : tmp_2_0.hasError(\"minlength\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = ctx_r3.formulario.get(field_r2.id)) == null ? null : tmp_3_0.hasError(\"pattern\"));\n  }\n}\nfunction ContactoComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function ContactoComponent_div_3_Template_input_ngModelChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const field_r2 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.formularioData[field_r2.id] = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, ContactoComponent_div_3_div_2_Template, 5, 4, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_5_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", field_r2.id)(\"type\", field_r2.type)(\"placeholder\", field_r2.placeholder)(\"ngModel\", ctx_r0.formularioData[field_r2.id])(\"formControlName\", field_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r0.formulario.get(field_r2.id)) == null ? null : tmp_5_0.invalid) && (((tmp_5_0 = ctx_r0.formulario.get(field_r2.id)) == null ? null : tmp_5_0.dirty) || ((tmp_5_0 = ctx_r0.formulario.get(field_r2.id)) == null ? null : tmp_5_0.touched)));\n  }\n}\nfunction ContactoComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"\\u00A1Correo enviado con \\u00E9xito!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let ContactoComponent = /*#__PURE__*/(() => {\n  class ContactoComponent {\n    constructor(http, fb) {\n      this.http = http;\n      this.fb = fb;\n      this.ultimaFechaEnvio = ''; // Almacena la fecha del último envío\n      this.correoInvalido = false; // Indica si el correo es inválido\n      this.formFields = [{\n        id: 'name',\n        type: 'text',\n        placeholder: 'Nombre'\n      }, {\n        id: 'email',\n        type: 'email',\n        placeholder: 'E-MAIL'\n      }, {\n        id: 'phone',\n        type: 'tel',\n        placeholder: 'Numero'\n      }, {\n        id: 'message',\n        type: 'textarea',\n        placeholder: 'Mensaje'\n      }];\n      this.formulario = new FormGroup({});\n      this.formularioData = {\n        name: '',\n        email: '',\n        phone: '',\n        message: ''\n      };\n      this.correoEnviado = false;\n    }\n    ngOnInit() {\n      this.formulario = this.fb.group({\n        name: ['', [Validators.required, Validators.minLength(3)]],\n        email: ['', [Validators.required, Validators.email]],\n        phone: ['', [Validators.required, Validators.pattern(/^\\d{9}$/)]],\n        message: ['', [Validators.required, Validators.minLength(10)]]\n      });\n    }\n    submitForm() {\n      if (this.formulario.valid) {\n        this.enviarCorreo(this.formulario.value);\n      } else {\n        console.error('Formulario inválido. Por favor, complete correctamente todos los campos.');\n      }\n    }\n    enviarCorreo(formularioData) {\n      // Use the environment variable for the API URL\n      this.http.post(environment.apiUrl, formularioData).subscribe({\n        next: response => {\n          console.log('Respuesta del servidor:', response);\n          this.correoEnviado = true; // Mark the email as sent\n        },\n\n        error: error => {\n          console.error('Error al enviar el correo:', error.message);\n          if (error.error) {\n            console.error('Cuerpo de la respuesta:', error.error);\n          }\n        }\n      });\n    }\n    static #_ = this.ɵfac = function ContactoComponent_Factory(t) {\n      return new (t || ContactoComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.FormBuilder));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ContactoComponent,\n      selectors: [[\"app-contacto\"]],\n      decls: 6,\n      vars: 3,\n      consts: [[\"id\", \"pageHeaderTitle\", 1, \"h1\", \"text-center\"], [\"id\", \"form\", 1, \"topBefore\", 3, \"formGroup\", \"ngSubmit\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"submit\", \"type\", \"submit\", \"value\", \"GO!\"], [4, \"ngIf\"], [3, \"id\", \"type\", \"placeholder\", \"ngModel\", \"formControlName\", \"ngModelChange\"]],\n      template: function ContactoComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\", 0);\n          i0.ɵɵtext(1, \"Contacto\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function ContactoComponent_Template_form_ngSubmit_2_listener() {\n            return ctx.submitForm();\n          });\n          i0.ɵɵtemplate(3, ContactoComponent_div_3_Template, 3, 6, \"div\", 2);\n          i0.ɵɵelement(4, \"input\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(5, ContactoComponent_div_5_Template, 3, 0, \"div\", 4);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"formGroup\", ctx.formulario);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.formFields);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.correoEnviado);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n      styles: [\"@import\\\"https://fonts.googleapis.com/css?family=Lato:100,300,400\\\";input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#aca49c;font-size:.875em}input[_ngcontent-%COMP%]:focus::placeholder, textarea[_ngcontent-%COMP%]::focus:placeholder{color:#bbb5af}input[_ngcontent-%COMP%]::-ms-placeholder, textarea[_ngcontent-%COMP%]::-ms-placeholder{color:#aca49c;font-size:.875em}input[_ngcontent-%COMP%]:focus::-ms-placeholder, textarea[_ngcontent-%COMP%]:focus::-ms-placeholder{color:#bbb5af}input[_ngcontent-%COMP%]:hover:focus::placeholder, textarea[_ngcontent-%COMP%]:hover:focus::placeholder{color:#cbc6c1}input[_ngcontent-%COMP%]:hover::placeholder, textarea[_ngcontent-%COMP%]:hover::placeholder{color:#e2dedb;font-size:.875em}input[_ngcontent-%COMP%]:hover:focus::-ms-placeholder, textarea[_ngcontent-%COMP%]:hover::focus:-ms-placeholder{color:#cbc6c1}#pageHeaderTitle[_ngcontent-%COMP%]{margin:2rem 0;text-transform:uppercase;text-align:center;font-size:2.5rem;font-weight:bolder;color:#fff}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;line-height:1.2}header[_ngcontent-%COMP%]{position:relative;font-size:2.3em;text-align:center;letter-spacing:7px;margin-top:20px}#form[_ngcontent-%COMP%]{position:relative;width:500px;margin:50px auto 100px}input[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:.875em;width:470px;height:50px;padding:0 15px;background:transparent;outline:none;color:#726659;border:solid 1px #b3aca7;border-bottom:none;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-ms-transition:all .3s ease-in-out}input[_ngcontent-%COMP%]:hover{background:#b3aca7;color:#e2dedb}textarea[_ngcontent-%COMP%]{width:470px;max-width:470px;height:110px;max-height:110px;padding:15px;background:transparent;outline:none;color:#726659;font-size:.875em;border:solid 1px #b3aca7;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-ms-transition:all .3s ease-in-out}textarea[_ngcontent-%COMP%]:hover{background:#b3aca7;color:#e2dedb}#submit[_ngcontent-%COMP%]{width:502px;padding:0;margin:-5px 0 0;font-size:.875em;color:#b3aca7;outline:none;cursor:pointer;border:solid 1px #b3aca7;border-top:none}#submit[_ngcontent-%COMP%]:hover{color:#e2dedb}\"]\n    });\n  }\n  return ContactoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}